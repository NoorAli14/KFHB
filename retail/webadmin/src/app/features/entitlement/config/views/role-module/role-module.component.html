<!-- CONTENT CARD -->
<div class="content-card" fusePerfectScrollbar>
    <div fxLayout="row" fxLayoutAlign="space-between" class="p-24">
        <div class="logo" fxLayout="row" fxLayoutAlign="start center">
            <mat-icon class="logo-icon mr-16" [@animate]="{
                    value: '*',
                    params: { delay: '50ms', scale: '0.2' }
                }">security
            </mat-icon>
            <span class="logo-text h1" [@animate]="{
                    value: '*',
                    params: { delay: '100ms', x: '-25px' }
                }">
                Role Module
            </span>
        </div>
        <button mat-raised-button (click)="onCreateDialog()" class="mat-accent">
            <span>ADD NEW ROLE</span>
        </button>
    </div>
    <div *ngIf="message.length > 0" fxLayout="row" fxLayoutAlign="center" class="p-24  message-box {{ type }} ">
        {{ message }}
    </div>
    <mat-table #table matSort matSortActive="id" matSortDirection="asc" matSortDisableClear [dataSource]="dataSource" [@animateStagger]="{ value: '50' }">
        <!-- Name Column -->
        <ng-container matColumnDef="roleId">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Role</mat-header-cell>
            <mat-cell *matCellDef="let row">
                {{ displayName(row.roleId, roles) }}</mat-cell>
        </ng-container>

        <!-- Type Column -->
        <ng-container matColumnDef="moduleId">
            <mat-header-cell *matHeaderCellDef fxHide fxShow.gt-md>Module</mat-header-cell>
            <mat-cell *matCellDef="let row" fxHide fxShow.gt-md>
                {{ displayName(row.moduleId, modules) }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="permission">
            <mat-header-cell *matHeaderCellDef>Permission</mat-header-cell>
            <mat-cell *matCellDef="let row">
                <button (click)="addPermission(row.id)" mat-icon-button color="warn" type="button">
                    <mat-icon>add_circle</mat-icon></button
                >&nbsp;
            </mat-cell>
        </ng-container>
        <ng-container matColumnDef="actions">
            <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
            <mat-cell *matCellDef="let row">
                <button (click)="onEditDialog(row)" mat-icon-button color="primary">
                    <mat-icon>mode_edit</mat-icon></button
                >&nbsp;
                <button
                    (click)="confirmDialog()"
                    mat-icon-button
                    color="warn"
                    type="button"
                >
                    <mat-icon>delete</mat-icon></button
                >&nbsp;
            </mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row
            *matRowDef="let row; columns: displayedColumns"
            (click)="onSelect(row)"
            [ngClass]="{ selected: row == selected }"
            [@animate]="{ value: '*', params: { y: '100%' } }"
        >
        </mat-row>
        
    </mat-table>
    <mat-paginator
        [pageSize]="3"
        [pageSizeOptions]="[3, 5, 10]"
    ></mat-paginator>
</div>
<!-- / CONTENT CARD -->