function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],a=!0,n=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(s){n=!0,o=s}finally{try{a||null==c.return||c.return()}finally{if(n)throw o}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _get(e,t,r){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var a=_superPropBase(e,t);if(a){var n=Object.getOwnPropertyDescriptor(a,t);return n.get?n.get.call(r):n.value}})(e,t,r||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,a=_getPrototypeOf(e);if(t){var n=_getPrototypeOf(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{j2iy:function(e,t,r){"use strict";r.r(t);var a,n=r("ofXK"),o=r("tyNb"),i=r("Pn5l"),c=r("LOCc"),s=r("PVWW"),u=r("3Pt+"),l=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,null,[{key:"ValidateUrl",value:function(e){return e.value.startsWith("https")&&e.value.includes(".io")?null:{validUrl:!0}}},{key:"NoWhitespaceValidator",value:function(e){var t=e.value.toString();return!t.replace(/\s/g,"").length&&t.length>0?{whitespace:!0}:null}},{key:"validateCharacters",value:function(e){if(e.value&&e.value.length>0){var t=e.value.match(/[^\s\w,.:&\/()+%'`@-]/);return t&&t.length?{invalid_characters:t}:null}return null}},{key:"numbersOnly",value:function(e){if(e.value&&e.value.length>0){var t=e.value.match("^[0-9]*$");return t&&t.length?null:{numbers_only:!0}}return null}},{key:"numberAndDecimal",value:function(e){if(e.value&&e.value.length>0){var t=e.value.match(/^[-+]?[0-9]+(\.[0-9]+)?$/);return t&&t.length?null:{numbers_decimal_only:!0}}return null}},{key:"validateCNIC",value:function(e){if(e.value&&e.value.length>0){var t=e.value.match("^[0-9+]{5}-[0-9+]{7}-[0-9]{1}$");return t&&t.length?null:{invalid_cnic:!0}}return null}},{key:"positiveOnly",value:function(e){return e.value<0?{positiveOnly:!0}:null}},{key:"validYear",value:function(e){return moment().year(),null}},{key:"notFutureDate",value:function(e){var t=new Date(e.value).getTime();return(new Date).getTime()>t?null:{isFutureDate:!0}}},{key:"dropdownValidator",value:function(e){return parseInt(e.value,10)>0?null:{notValid:!0}}}]),r}(u.t),f=r("sne2"),m=r("fXoL"),b=r("0IaG"),p=r("+gEL"),d=r("cp0P"),g="/api/v1/entitlements/users",h=r("NXL+"),v=r("rTjo"),y=((a=function(){function e(t){_classCallCheck(this,e),this._networkService=t}return _createClass(e,[{key:"createUser",value:function(e){return this._networkService.post("/api/v1/entitlements/invitations",e)}},{key:"getUsers",value:function(){return this._networkService.getAll(g)}},{key:"getRoles",value:function(){return this._networkService.getAll(h.c)}},{key:"editUser",value:function(e,t){return this._networkService.onUpdate("".concat(g,"/").concat(e),t)}},{key:"deleteUser",value:function(e){return this._networkService.onDelete("".concat(g,"/").concat(e))}},{key:"forkUserData",value:function(){return Object(d.a)([this.getUsers(),this.getRoles()])}}]),e}()).\u0275fac=function(e){return new(e||a)(m.Zb(v.a))},a.\u0275prov=m.Lb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),U=r("Z2Z5"),C=r("/t3+"),_=r("XiUz"),w=r("NFeN"),V=r("bTqV"),k=r("EwFO"),x=r("kmnG"),F=r("qFsG"),S=r("6H7S"),I=r("d3UM"),O=r("7syL"),N=r("FKr1"),D=r("iadO");function H(e,t){if(1&e&&(m.Vb(0,"mat-form-field",18),m.Vb(1,"mat-label"),m.Hc(2,"User Name"),m.Ub(),m.Qb(3,"input",24),m.Vb(4,"mat-icon",15),m.Hc(5,"personal_pin"),m.Ub(),m.Vb(6,"mat-error"),m.Qb(7,"app-mat-error",16),m.Ub(),m.Ub()),2&e){var r=m.hc();m.Cb(7),m.nc("control",r.userForm.get("username"))}}function L(e,t){if(1&e&&(m.Vb(0,"mat-form-field",13),m.Vb(1,"mat-label"),m.Hc(2,"First Name"),m.Ub(),m.Qb(3,"input",25),m.Vb(4,"mat-icon",15),m.Hc(5,"account_circle"),m.Ub(),m.Vb(6,"mat-error"),m.Qb(7,"app-mat-error",16),m.Ub(),m.Ub()),2&e){var r=m.hc();m.Cb(7),m.nc("control",r.userForm.get("firstName"))}}function A(e,t){if(1&e&&(m.Vb(0,"mat-form-field",13),m.Vb(1,"mat-label"),m.Hc(2,"Middle Name"),m.Ub(),m.Qb(3,"input",26),m.Vb(4,"mat-icon",15),m.Hc(5,"account_circle"),m.Ub(),m.Vb(6,"mat-error"),m.Qb(7,"app-mat-error",16),m.Ub(),m.Ub()),2&e){var r=m.hc();m.Cb(7),m.nc("control",r.userForm.get("middleName"))}}function P(e,t){if(1&e&&(m.Vb(0,"mat-form-field",13),m.Vb(1,"mat-label"),m.Hc(2,"Last Name"),m.Ub(),m.Qb(3,"input",27),m.Vb(4,"mat-icon",15),m.Hc(5,"account_circle"),m.Ub(),m.Vb(6,"mat-error"),m.Qb(7,"app-mat-error",16),m.Ub(),m.Ub()),2&e){var r=m.hc();m.Cb(7),m.nc("control",r.userForm.get("lastName"))}}function R(e,t){if(1&e&&(m.Vb(0,"mat-option",28),m.Hc(1),m.Ub()),2&e){var r=t.$implicit;m.nc("value",r.id),m.Cb(1),m.Jc(" ",r.name," ")}}function T(e,t){if(1&e&&(m.Vb(0,"mat-form-field",13),m.Vb(1,"mat-label"),m.Hc(2,"Date of Birth"),m.Ub(),m.Qb(3,"input",29),m.Qb(4,"mat-datepicker-toggle",30),m.Qb(5,"mat-datepicker",null,31),m.Vb(7,"mat-error"),m.Qb(8,"app-mat-error",16),m.Ub(),m.Ub()),2&e){var r=m.uc(6),a=m.hc();m.Cb(3),m.nc("matDatepicker",r),m.Cb(1),m.nc("for",r),m.Cb(4),m.nc("control",a.userForm.get("dateOfBirth"))}}function M(e,t){if(1&e&&(m.Vb(0,"mat-option",28),m.Hc(1),m.Ub()),2&e){var r=t.$implicit;m.nc("value",r.id),m.Cb(1),m.Jc(" ",r.name," ")}}function Q(e,t){if(1&e&&(m.Vb(0,"mat-form-field",18),m.Vb(1,"mat-label"),m.Hc(2,"Gender"),m.Ub(),m.Vb(3,"mat-select",32),m.Fc(4,M,2,2,"mat-option",20),m.Ub(),m.Vb(5,"mat-icon",15),m.Hc(6,"face"),m.Ub(),m.Vb(7,"mat-error"),m.Qb(8,"app-mat-error",16),m.Ub(),m.Ub()),2&e){var r=m.hc();m.Cb(4),m.nc("ngForOf",r.genderList),m.Cb(4),m.nc("control",r.userForm.get("gender"))}}function j(e,t){if(1&e&&(m.Vb(0,"mat-option",28),m.Hc(1),m.Ub()),2&e){var r=t.$implicit;m.nc("value",r.id),m.Cb(1),m.Jc(" ",r.name," ")}}function E(e,t){if(1&e&&(m.Vb(0,"mat-form-field",18),m.Vb(1,"mat-label"),m.Hc(2,"Nationality"),m.Ub(),m.Vb(3,"mat-select",33),m.Fc(4,j,2,2,"mat-option",20),m.Ub(),m.Vb(5,"mat-icon",15),m.Hc(6,"outlined_flag"),m.Ub(),m.Vb(7,"mat-error"),m.Qb(8,"app-mat-error",16),m.Ub(),m.Ub()),2&e){var r=m.hc();m.Cb(4),m.nc("ngForOf",r.nationalityList),m.Cb(4),m.nc("control",r.userForm.get("nationalityId"))}}function q(e,t){if(1&e&&(m.Vb(0,"mat-option",28),m.Hc(1),m.Ub()),2&e){var r=t.$implicit;m.nc("value",r.id),m.Cb(1),m.Jc(" ",r.name," ")}}function G(e,t){if(1&e&&(m.Vb(0,"mat-form-field",18),m.Vb(1,"mat-label"),m.Hc(2,"Status"),m.Ub(),m.Vb(3,"mat-select",34),m.Fc(4,q,2,2,"mat-option",20),m.Ub(),m.Vb(5,"mat-icon",15),m.Hc(6,"lock_open"),m.Ub(),m.Vb(7,"mat-error"),m.Qb(8,"app-mat-error",16),m.Ub(),m.Ub()),2&e){var r=m.hc();m.Cb(4),m.nc("ngForOf",r.statusList),m.Cb(4),m.nc("control",r.userForm.get("status"))}}var $,z=function(){return{delay:"50ms",scale:"0.2"}},B=function(e){return{value:"*",params:e}},W=function(){return{delay:"100ms",x:"-25px"}},J=(($=function(){function e(t,r,a,n){_classCallCheck(this,e),this.matDialogRef=t,this.data=r,this._userService=a,this._authUserService=n,this.message="",this.type="",this.nationalityList=f.d,this.genderList=f.b,this.statusList=f.e,this.sendResponse=new m.o}return _createClass(e,[{key:"requiredIfUpdating",value:function(e){return function(t){return t.parent&&e()?u.t.required(t):null}}},{key:"ngOnInit",value:function(){var e=this;this.permissions=this._authUserService.getPermissionsByModule("User"),this.userForm=new u.h({id:new u.e(this.data.user.id),username:new u.e(this.data.user.username,[this.requiredIfUpdating((function(){return!e.userForm.get("id").value}))]),firstName:new u.e(this.data.user.firstName,[this.requiredIfUpdating((function(){return e.userForm.get("id").value}))]),middleName:new u.e(this.data.user.middleName,[this.requiredIfUpdating((function(){return e.userForm.get("id").value}))]),lastName:new u.e(this.data.user.lastName,[this.requiredIfUpdating((function(){return e.userForm.get("id").value}))]),contactNo:new u.e(this.data.user.contactNo,[u.t.required,l.numbersOnly]),gender:new u.e(this.data.user.gender,[this.requiredIfUpdating((function(){return e.userForm.get("id").value}))]),email:new u.e(this.data.user.email,[u.t.required,u.t.email]),dateOfBirth:new u.e(this.data.user.dateOfBirth,[this.requiredIfUpdating((function(){return e.userForm.get("id").value}))]),nationalityId:new u.e(this.data.user.nationalityId,[this.requiredIfUpdating((function(){return e.userForm.get("id").value}))]),roles:new u.e(this.data.user.roles.map((function(e){return e.id})),[u.t.required]),status:new u.e(this.data.user.status,[this.requiredIfUpdating((function(){return e.userForm.get("id").value}))])}),this.roles=this.data.roles}},{key:"onSubmit",value:function(){var e=Object.assign({},this.userForm.value);e.roles=this.userForm.value.roles.map((function(e){return{id:e}})),e=Object(p.b)(e),this.sendResponse.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||$)(m.Pb(b.f),m.Pb(b.a),m.Pb(y),m.Pb(U.a))},$.\u0275cmp=m.Jb({type:$,selectors:[["app-user-form"]],outputs:{sendResponse:"sendResponse"},decls:54,vars:25,consts:[[1,"dialog-content-wrapper"],[1,"mat-accent","m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],["fxLayout","row","fxLayoutAlign","start center",1,"logo","mb-24","mb-md-0"],[1,"logo-icon","mr-12"],[1,"logo-text"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content","","fusePerfectScrollbar","",1,"p-24","m-0"],["fxLayout","row"],["fxLayout","column","fxLayoutAlign","start","fxFlex","1 0","name","userForm","novalidate","",1,"p-24","mr-24",3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-lg","column","fxLayoutAlign.lt-lg","center","fxLayoutGap","10px","fxLayoutAlign","start center","fxFlex","1 1 auto"],["appearance","outline","fxFlex","48","class","pr-4",4,"ngIf"],["appearance","outline","fxFlex","48","class","pl-4",4,"ngIf"],["appearance","outline","fxFlex","48",1,"pl-4"],["matInput","","formControlName","email"],["matSuffix","",1,"secondary-text"],[3,"control"],["matInput","","formControlName","contactNo"],["appearance","outline","fxFlex","48",1,"pr-4"],["formControlName","roles","multiple",""],[3,"value",4,"ngFor","ngForOf"],["fxLayoutGap","10px","fxLayout","row","fxLayoutAlign","end center",1,"actions"],["type","button","mat-raised-button","","color","secondary","aria-label","Follow",3,"click"],["appPermission","","type","submit","mat-raised-button","","color","accent","aria-label","Send Message",3,"permissions","type","disabled"],["matInput","","formControlName","username"],["matInput","","formControlName","firstName"],["matInput","","formControlName","middleName"],["matInput","","formControlName","lastName"],[3,"value"],["matInput","","formControlName","dateOfBirth",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["formControlName","gender"],["formControlName","nationalityId"],["formControlName","status"]],template:function(e,t){1&e&&(m.Vb(0,"div",0),m.Vb(1,"mat-toolbar",1),m.Vb(2,"mat-toolbar-row",2),m.Vb(3,"div",3),m.Vb(4,"mat-icon",4),m.Hc(5," people "),m.Ub(),m.Vb(6,"span",5),m.Hc(7),m.Ub(),m.Ub(),m.Vb(8,"button",6),m.dc("click",(function(e){return t.matDialogRef.close()})),m.Vb(9,"mat-icon"),m.Hc(10,"close"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(11,"div",7),m.Vb(12,"div",8),m.Vb(13,"form",9),m.dc("ngSubmit",(function(e){return t.onSubmit()})),m.Vb(14,"div",10),m.Fc(15,H,8,1,"mat-form-field",11),m.Fc(16,L,8,1,"mat-form-field",12),m.Fc(17,A,8,1,"mat-form-field",12),m.Fc(18,P,8,1,"mat-form-field",12),m.Vb(19,"mat-form-field",13),m.Vb(20,"mat-label"),m.Hc(21,"Email"),m.Ub(),m.Qb(22,"input",14),m.Vb(23,"mat-icon",15),m.Hc(24,"email"),m.Ub(),m.Vb(25,"mat-error"),m.Qb(26,"app-mat-error",16),m.Ub(),m.Ub(),m.Vb(27,"mat-form-field",13),m.Vb(28,"mat-label"),m.Hc(29,"Contact No"),m.Ub(),m.Qb(30,"input",17),m.Vb(31,"mat-icon",15),m.Hc(32,"phone"),m.Ub(),m.Vb(33,"mat-error"),m.Qb(34,"app-mat-error",16),m.Ub(),m.Ub(),m.Vb(35,"mat-form-field",18),m.Vb(36,"mat-label"),m.Hc(37,"Role"),m.Ub(),m.Vb(38,"mat-select",19),m.Fc(39,R,2,2,"mat-option",20),m.Ub(),m.Vb(40,"mat-icon",15),m.Hc(41,"security"),m.Ub(),m.Vb(42,"mat-error"),m.Qb(43,"app-mat-error",16),m.Ub(),m.Ub(),m.Fc(44,T,9,3,"mat-form-field",12),m.Fc(45,Q,9,2,"mat-form-field",11),m.Fc(46,E,9,2,"mat-form-field",11),m.Fc(47,G,9,2,"mat-form-field",11),m.Ub(),m.Vb(48,"div",21),m.Vb(49,"button",22),m.dc("click",(function(e){return t.matDialogRef.close()})),m.Hc(50," Cancel "),m.Ub(),m.Hc(51," \xa0\xa0\xa0 "),m.Vb(52,"button",23),m.Hc(53," Submit "),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub()),2&e&&(m.Cb(4),m.nc("@animate",m.qc(20,B,m.pc(19,z))),m.Cb(2),m.nc("@animate",m.qc(23,B,m.pc(22,W))),m.Cb(1),m.Jc(" ",t.data.user.id?"Update":"Create"," User "),m.Cb(6),m.nc("formGroup",t.userForm),m.Cb(2),m.nc("ngIf",!t.data.user.id),m.Cb(1),m.nc("ngIf",t.data.user.firstName),m.Cb(1),m.nc("ngIf",t.data.user.id),m.Cb(1),m.nc("ngIf",t.data.user.id),m.Cb(8),m.nc("control",t.userForm.get("email")),m.Cb(8),m.nc("control",t.userForm.get("contactNo")),m.Cb(5),m.nc("ngForOf",t.roles),m.Cb(4),m.nc("control",t.userForm.get("roles")),m.Cb(1),m.nc("ngIf",t.data.user.id),m.Cb(1),m.nc("ngIf",t.data.user.id),m.Cb(1),m.nc("ngIf",t.data.user.id),m.Cb(1),m.nc("ngIf",t.data.user.id),m.Cb(5),m.nc("permissions",t.permissions)("type",t.data.user.id?"edit":"create")("disabled",t.userForm.invalid))},directives:[C.a,C.c,_.a,_.c,_.b,w.a,V.b,b.d,k.a,u.u,u.p,u.i,_.d,n.t,x.c,x.f,F.b,u.c,u.o,u.g,x.g,x.b,S.a,I.a,n.s,O.a,N.n,D.b,D.d,D.a],styles:["@media screen and (max-width:599px){.app-user-form{width:100%}}@media screen and (min-width:600px){.app-user-form{width:60%}}.app-user-form .mat-form-field-appearance-outline .mat-form-field-prefix,.app-user-form .mat-form-field-appearance-outline .mat-form-field-suffix{top:0}.app-user-form .mat-dialog-container{padding:0}.app-user-form .dialog-content-wrapper{max-height:85vh;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}"],encapsulation:2}),$),K=r("IbRh"),Z=r("+0xr"),X=r("M9IT"),Y=r("Dh3D"),ee=r("IJgu"),te=r("B9zo");function re(e,t){if(1&e&&(m.Vb(0,"div",20),m.Hc(1),m.Ub()),2&e){var r=m.hc();m.Fb("p-16  message-box ",r.type," "),m.Cb(1),m.Jc(" ",r.message," ")}}function ae(e,t){if(1&e&&(m.Vb(0,"mat-header-cell"),m.Hc(1),m.Ub()),2&e){var r=m.hc().$implicit,a=m.hc();m.Cb(1),m.Ic(r.includes("action")?"Action":a.camelToSentenceCase(r))}}function ne(e,t){if(1&e&&(m.Vb(0,"span"),m.Hc(1),m.Ub()),2&e){var r=m.hc().$implicit,a=m.hc().$implicit,n=m.hc();m.Cb(1),m.Ic(r[n.camelToSnakeCase(a)])}}function oe(e,t){if(1&e){var r=m.Wb();m.Vb(0,"mat-icon",26),m.dc("click",(function(e){m.yc(r);var t=m.hc().$implicit;return m.hc(2).confirmDialog(t.id)})),m.Hc(1,"delete"),m.Ub(),m.Hc(2," \xa0\xa0 "),m.Vb(3,"mat-icon",27),m.dc("click",(function(e){m.yc(r);var t=m.hc().$implicit;return m.hc(2).openDialog(t)})),m.Hc(4,"mode_edit"),m.Ub()}if(2&e){var a=m.hc(3);m.nc("permissions",a.userPermissions)("type","delete")}}function ie(e,t){if(1&e&&(m.Vb(0,"mat-cell"),m.Fc(1,ne,2,1,"span",24),m.Fc(2,oe,5,2,"ng-template",null,25,m.Gc),m.Ub()),2&e){var r=m.uc(3),a=m.hc().$implicit;m.Cb(1),m.nc("ngIf",!a.includes("action"))("ngIfElse",r)}}function ce(e,t){1&e&&(m.Tb(0,21),m.Fc(1,ae,2,1,"mat-header-cell",22),m.Fc(2,ie,4,2,"mat-cell",23),m.Sb()),2&e&&m.nc("matColumnDef",t.$implicit)}function se(e,t){1&e&&m.Qb(0,"mat-header-row")}var ue=function(){return{y:"100%"}},le=function(e){return{value:"*",params:e}};function fe(e,t){1&e&&m.Qb(0,"mat-row"),2&e&&m.nc("@animate",m.qc(2,le,m.pc(1,ue)))}var me,be,pe=function(){return{delay:"50ms",scale:"0.2"}},de=function(){return{delay:"100ms",x:"-25px"}},ge=[{path:"",component:(me=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,a){var n;return _classCallCheck(this,r),(n=t.call(this,"User"))._matDialog=e,n._service=a,n.message="",n.type="",n.pageSize=c.a.PAGE_SIZE,n.pageSizeOptions=c.a.PAGE_SIZE_OPTIONS,n.displayedColumns=["username","firstName","lastName","gender","email","contactNo","status","actions"],n.dataSource=new Z.k,n}return _createClass(r,[{key:"ngOnInit",value:function(){_get(_getPrototypeOf(r.prototype),"ngOnInit",this).call(this),this.username=new u.e(""),this.initSearch(),this.getData()}},{key:"loadAllUsers",value:function(){var e=this;this._service.getUsers().subscribe((function(t){e.responseMessage="",e.users=t}),(function(t){e.errorType="error",e.responseMessage=f.c.UNKNOWN}))}},{key:"getData",value:function(){var e=this;this._service.forkUserData().subscribe((function(t){var r;r=_slicedToArray(t,2),e.users=r[0],e.roles=r[1],e.dataSource=new Z.k(e.users),e.dataSource.paginator=e.paginator,e.dataSource.sort=e.sort}),(function(e){console.log(e)}))}},{key:"initSearch",value:function(){var e=this;this.username.valueChanges.subscribe((function(t){e.loadAllUsers()}))}},{key:"camelToSnakeCase",value:function(e){return Object(p.c)(e)}},{key:"openDialog",value:function(e){var t=this;this.dialogRef=this._matDialog.open(J,{data:{roles:this.roles,user:e&&e.id?Object(p.f)(e):new K.a},panelClass:"app-user-form"}).componentInstance.sendResponse.subscribe((function(e){e.id?t.editUser(e):t.createUser(e)}))}},{key:"camelToSentenceCase",value:function(e){return Object(p.a)(e)}},{key:"confirmDialog",value:function(e){var t=this,r=new ee.b("Confirm Action",f.c.REMOVE_CONFIRMATION);this._matDialog.open(ee.a,{data:r,disableClose:!0,panelClass:"app-confirm-dialog",hasBackdrop:!0}).afterClosed().subscribe((function(r){r&&t.deleteUser(e)}))}},{key:"createUser",value:function(e){var t=this;this._service.createUser(e).subscribe((function(e){t.errorType="success",t.responseMessage=f.c.CREATED("User");var r=t.dataSource.data;r.push(e),t.updateGrid(r),t._matDialog.closeAll()}),(function(e){t.errorType="error",t.responseMessage=f.c.UNKNOWN}))}},{key:"hideMessage",value:function(){var e=this;setTimeout((function(){e.responseMessage=""}),2e3)}},{key:"editUser",value:function(e){var t=this;this._service.editUser(e.id,e).subscribe((function(r){t.errorType="success",t.responseMessage=f.c.UPDATED("Module");var a=t.dataSource.data.findIndex((function(t){return t.id==e.id}));t.users[a]=r,t.updateGrid(t.users),t.hideMessage(),t._matDialog.closeAll()}),(function(e){t.errorType="error",t.responseMessage=f.c.UNKNOWN}))}},{key:"deleteUser",value:function(e){var t=this;this._service.deleteUser(e).subscribe((function(r){var a=t.dataSource.data.findIndex((function(t){return t.id==e}));t.users.splice(a,1),t.updateGrid(t.users),t.errorType="success",t.hideMessage(),t.responseMessage=f.c.DELETED("User")}),(function(e){t.errorType="error",t.responseMessage=f.c.UNKNOWN}))}},{key:"updateGrid",value:function(e){this.dataSource.data=e,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}}]),r}(i.a),me.\u0275fac=function(e){return new(e||me)(m.Pb(b.b),m.Pb(y))},me.\u0275cmp=m.Jb({type:me,selectors:[["app-user"]],viewQuery:function(e,t){var r;1&e&&(m.Mc(X.a,!0),m.Mc(Y.a,!0)),2&e&&(m.tc(r=m.ec())&&(t.paginator=r.first),m.tc(r=m.ec())&&(t.sort=r.first))},features:[m.zb],decls:26,vars:17,consts:[[1,"page-container","page-layout","carded","fullwidth","inner-scroll"],[1,"top-bg","accent"],[1,"center"],["fxLayout","column","fxLayoutAlign","center center","fxLayout.gt-sm","row","fxLayoutAlign.gt-sm","space-between center",1,"header","accent"],["fxLayout","row","fxLayoutAlign","start center",1,"logo","mb-24","mb-md-0"],[1,"logo-icon","s-32","mr-16"],[1,"logo-text","h1"],[1,"search-wrapper","mx-32","mx-md-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"search"],["placeholder","Search for a user",3,"formControl"],["mat-raised-button","","color","accent",1,"add-product-button","fuse-white","mt-24","mt-md-0",3,"click"],["fusePerfectScrollbar","",1,"content-card"],["fxLayout","row","fxLayoutAlign","center",3,"class",4,"ngIf"],["matSort","","matSortActive","username","matSortDirection","asc","matSortDisableClear","",3,"dataSource"],["table",""],[3,"matColumnDef",4,"ngFor","ngForOf"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageIndex","pageSize","pageSizeOptions"],["paginator",""],["fxLayout","row","fxLayoutAlign","center"],[3,"matColumnDef"],[4,"matHeaderCellDef"],[4,"matCellDef"],[4,"ngIf","ngIfElse"],["action",""],["appPermission","","color","warn","type","button",3,"permissions","type","click"],["type","button",3,"click"]],template:function(e,t){1&e&&(m.Vb(0,"div",0),m.Qb(1,"div",1),m.Vb(2,"div",2),m.Vb(3,"div",3),m.Vb(4,"div",4),m.Vb(5,"mat-icon",5),m.Hc(6," people "),m.Ub(),m.Vb(7,"span",6),m.Hc(8," Users "),m.Ub(),m.Ub(),m.Vb(9,"div",7),m.Vb(10,"div",8),m.Vb(11,"mat-icon"),m.Hc(12,"search"),m.Ub(),m.Qb(13,"input",9),m.Ub(),m.Ub(),m.Vb(14,"button",10),m.dc("click",(function(e){return t.openDialog(null)})),m.Vb(15,"span"),m.Hc(16,"ADD NEW USER"),m.Ub(),m.Ub(),m.Ub(),m.Vb(17,"div",11),m.Fc(18,re,2,4,"div",12),m.Vb(19,"mat-table",13,14),m.Fc(21,ce,3,1,"ng-container",15),m.Fc(22,se,1,0,"mat-header-row",16),m.Fc(23,fe,1,4,"mat-row",17),m.Ub(),m.Qb(24,"mat-paginator",18,19),m.Ub(),m.Ub(),m.Ub()),2&e&&(m.Cb(5),m.nc("@animate",m.qc(12,le,m.pc(11,pe))),m.Cb(2),m.nc("@animate",m.qc(15,le,m.pc(14,de))),m.Cb(6),m.nc("formControl",t.username),m.Cb(5),m.nc("ngIf",t.message.length>0),m.Cb(1),m.nc("dataSource",t.dataSource),m.Cb(2),m.nc("ngForOf",t.displayedColumns),m.Cb(1),m.nc("matHeaderRowDef",t.displayedColumns),m.Cb(1),m.nc("matRowDefColumns",t.displayedColumns),m.Cb(1),m.nc("pageIndex",0)("pageSize",t.pageSize)("pageSizeOptions",t.pageSizeOptions))},directives:[te.a,_.c,_.b,w.a,_.a,u.c,u.o,u.f,V.b,k.a,n.t,Z.j,n.s,Z.g,Z.i,X.a,Z.c,Z.e,Z.b,Z.d,Z.a,O.a,Z.f,Z.h],styles:["app-user{width:100%}"],encapsulation:2,data:{animation:s.a}}),me)}],he=((be=function e(){_classCallCheck(this,e)}).\u0275mod=m.Nb({type:be}),be.\u0275inj=m.Mb({factory:function(e){return new(e||be)},imports:[[o.k.forChild(ge)],o.k]}),be),ve=r("5HBU"),ye=r("PCNd"),Ue=r("W/RB");r.d(t,"UserModule",(function(){return _e}));var Ce,_e=((Ce=function e(){_classCallCheck(this,e)}).\u0275mod=m.Nb({type:Ce}),Ce.\u0275inj=m.Mb({factory:function(e){return new(e||Ce)},imports:[[n.c,ye.a,ve.a,he,Ue.a]]}),Ce)}}]);